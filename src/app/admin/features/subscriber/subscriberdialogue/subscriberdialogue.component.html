<div *ngIf="sType=='logindetails'">
    <div class="Head d-flex justify-content-between align-items-center mb-3">
        <span class="span">Subscriber Login Details</span>
        <i class="fa fa-close close-icon" (click)="onNoClick()"></i>
    </div>
    <div class="" style="padding: 1rem;">
        <div class="input_box  mb-3">
            <div class="display align-items-center justify-content-center">
                <div class="col-12 col-md-6">
                    <span for="Subscriber_name" class="me-2">Subscriber Name</span>
                </div>
                <div class="col-12 col-md-6" style="color: rgb(1, 90, 86);">
                    {{subscribername}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="display align-items-center justify-content-center">
                <div class="col-12 col-md-6">
                    <span class="me-2">Username</span>
                </div>
                <div class="col-12 col-md-6">
                    {{subusername}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="display align-items-center justify-content-center">
                <div class="col-12 col-md-6">
                    <span for="password" class="me-2">Password</span>
                </div>
                <div class="col-12 col-md-6">
                    <input type="text" class="" id="password" data-toggle="tooltip" data-placement="bottom"
                        [(ngModel)]="password">
                </div>
            </div>
        </div>

        <div class="input_box Isactive mb-3">
            <div class="display align-items-center justify-content-center">

                <div class="col-12 col-md-6">
                    <span class="me-2">Wallet</span>
                </div>
                <div class="col-12 col-md-6">
                    {{Wallet}}
                </div>
            </div>
        </div>

        <div class="  mb-3">
            <div class="display align-items-center justify-content-center">
                <div class="input_box  col-12 col-md-6">
                    <span class="me-2">Lock Status</span>
                </div>
                <div class="col-12 col-md-6"
                    [ngClass]="{'status-eable': statusSus === true, 'status-diable': statusSus === false}">
                    <div class="toggle">
                        {{ statusSus ? 'Enable' : 'Disable' }}
                    </div>
                </div>

            </div>
        </div>
        <div class="  mb-3">
            <div class="display align-items-center justify-content-center">
                <div class="input_box  col-12 col-md-6">
                    <span class="me-2">Is Lock </span>
                </div>
                <div class="col-12 col-md-6">
                    <div class="checkbox-text mb-3">
                        <div class="checkbox-content">
                            <input class="form-check-input date" type="checkbox"
                                style="width: 25px;height: 25px;border: 1px solid green;" [(ngModel)]="islock">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12 col-md-12 d-flex  justify-content-center align-items-center mb-3">
            <label for="" style="color: red;text-align: center;">Are you want to update click Yes ?</label>
        </div>
        <div class="d-flex justify-content-center align-item-center mx-3 mb-2">
            <button type="button" class="btn btn-success me-2" (click)="loginDetails()">Yes</button>
            <button type="button" class="btn btn-danger" (click)="onNoClick()">No</button>
        </div>
    </div>
</div>
<div *ngIf="sType=='editDetails'" class="overlay">
    <div class="Head d-flex justify-content-between align-items-center">
        <span class="span">Edit Subscriber Details</span>
        <i class="fa fa-close close-icon" (click)="onNoClick()"></i>
    </div>
    <div class="card">
        <form [formGroup]="Editform" class="mobile" style="max-height:55em;overflow:scroll">
            <div class="display justify-content-center align-items-center mobile">
                <div class="col-12 col-md-6  edit">
                    <div class="input_box ">
                        <div class="mb-3">
                            <label class="form-label">Subscriber Name
                            </label>
                            <input class="" type="text" [(ngModel)]="subscribername" formControlName="customername">
                            <div *ngIf="Editform.get('customername')?.touched && Editform.get('customername')?.invalid"
                                class="text-danger">
                                <div *ngIf="Editform.get('customername')?.errors?.['required']">Subscriber Name
                                    is required.</div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Subscriber Last Name </label>
                            <input class="" type="text" id="" name="" value="" formControlName="customerlastname"
                                [(ngModel)]="subscribernameLast">
                            <div *ngIf="Editform.get('customerlastname')?.touched && Editform.get('customerlastname')?.invalid"
                                class="text-danger">
                                <div *ngIf="Editform.get('customerlastname')?.errors?.['required']">Subscriber Last Name
                                    is required.</div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Address</label>
                            <textarea class="" type="text" style="height: 50px;" [(ngModel)]="address"
                                formControlName="address">
                             </textarea>
                            <div *ngIf="Editform.get('address')?.touched && Editform.get('address')?.invalid"
                                class="text-danger">
                                <div *ngIf="Editform.get('address')?.errors?.['required']">Address is required.</div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label>Area Name</label>
                            <select id="Area" [(ngModel)]="areaid" formControlName="areaid">
                                <option value="0" disabled>Select Area</option>
                                <option *ngFor="let area of filteredAreas" [value]="area.value"
                                    (ngModelChange)="onAreaStatusChange1($event)">
                                    {{ area.name }}
                                </option>
                            </select>
                            <div style="position: relative; font-size: small;">
                                <div *ngIf="submitted && f['areaid'].errors?.['required']" class="text-danger">
                                    Area Name is required</div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Address Proof ID
                            </label>
                            <select class="form-select" [(ngModel)]="addressprooftypeid"
                                (change)="resetData('addressproof')" formControlName="addressprooftypeid">
                                <option *ngFor="let key of add_proof_list | keyvalue" [value]="key.value">
                                    {{ key.key }}
                                </option>
                            </select>
                            <div *ngIf="Editform.get('addressprooftypeid')?.touched && Editform.get('addressprooftypeid')?.invalid"
                                class="text-danger">
                                <div *ngIf="Editform.get('addressprooftypeid')?.errors?.['required']">Address Proof ID
                                    is required.</div>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Address Proof
                            </label>
                            <input class="" type="text" [(ngModel)]="addressproof" formControlName="addressproof" />
                            <div *ngIf="Editform.get('addressproof')?.touched && Editform.get('addressproof')?.invalid"
                                class="text-danger">
                                <div *ngIf="Editform.get('addressproof')?.errors?.['required']">Address Proof is
                                    required.</div>
                            </div>
                        </div>


                        <!-- <div class="mb-2">
                            <label>Address Proof Name</label>
                            <select id="addressprooftypeid" formControlName="addressprooftypeid"
                                [(ngModel)]="addressproof" (change)="onAddProofChange($event)">
                                <option value="0" disabled>Select an Address Proof</option>
                                <option *ngFor="let key of filteredADDProofKeys()" [value]="key"> {{ key}} </option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="addressproof">{{ selectedAddProofType }} Number</label>
                            <input type="text" formControlName="addressproof" [(ngModel)]="addressproof"
                                [attr.maxlength]="getMaxLength(selectedAddProofType)"
                                [attr.placeholder]="'Enter ' + selectedAddProofType + ' Number'"
                                [attr.pattern]="getPattern(selectedAddProofType)" />

                            <div *ngIf="Editform.get('addressproof')?.invalid && (Editform.get('addressproof')?.dirty || Editform.get('addressproof')?.touched)"
                                class="text-danger">
                                <div *ngIf="Editform.get('addressproof')?.errors?.['required']">
                                    {{ selectedAddProofType }} Number is required.
                                </div>
                                <div *ngIf="Editform.get('addressproof')?.errors?.['pattern']">
                                    Invalid {{ selectedAddProofType }} Number. Expected format: {{
                                    getExampleFormat(selectedAddProofType) }}.
                                </div>
                                <div *ngIf="Editform.get('addressproof')?.errors?.['maxlength']">
                                    Maximum length allowed is {{ getMaxLength(selectedAddProofType) }} characters.
                                </div>
                            </div>
                        </div> -->
                        <div class="mb-3">
                            <label class="form-label">Date of Birth
                            </label>
                            <input class="date" type="date" [(ngModel)]="dateofbirth" formControlName="dateofbirth">
                            <div *ngIf="Editform.get('dateofbirth')?.touched && Editform.get('dateofbirth')?.invalid"
                                class="text-danger">
                                <div *ngIf="Editform.get('dateofbirth')?.errors?.['required']">Date of birth is
                                    required.</div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <span class="form-label">landlineno
                            </span>
                            <input class="date" type="text" pattern="^0\d{2,4}\d{6,8}$" [(ngModel)]="landlineno"
                                formControlName="landlineno" (keypress)="onKeydown_landline($event)" maxlength="11">
                            <div *ngIf="Editform.get('landlineno')?.touched && Editform.get('landlineno')?.invalid"
                                class="text-danger">
                                <div *ngIf="Editform.get('landlineno')?.errors?.['required']">landlineno is required.
                                </div>
                            </div>
                        </div>
                        <div class="mb-3 display justify-content-between align-items-center livetv">
                            <label>Premium version subscriber app (Live TV)
                            </label>
                            <div class="checkbox-text mb-3">
                                <div class="checkbox-content">
                                    <input class="form-check-input date" type="checkbox" [(ngModel)]="livetv"
                                        formControlName="islivetv">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-12 col-md-6 edit  edit1">
                    <div class="input_box ">
                        <div class="mb-3">
                            <span class="form-label">CAS Form ID</span>
                            <input class="" type="text" id="" name="" value="" [(ngModel)]="casformid"
                                formControlName="casformid">
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Father's Name</label>
                            <input class="" type="text" [(ngModel)]="fathername" formControlName="fathername">
                            <div *ngIf="Editform.get('fathername')?.touched && Editform.get('fathername')?.invalid"
                                class="text-danger">
                                <div *ngIf="Editform.get('fathername')?.errors?.['required']">Father's Name is required.
                                </div>
                            </div>
                        </div>
                        <!-- <div class="mb-3">
                            <label>Id Proof Name</label>
                            <select id="idprooftypeid" formControlName="idprooftypeid" [(ngModel)]="idprooftypeid"
                                (change)="onIDProofChange($event)">
                                <option value="0" disabled>Select a ID Proof</option>
                                <option *ngFor="let key of filteredIdProofKeys()" [value]="key"> {{ key}} </option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="idproof">{{ selectedIDProofType }} Number</label>
                            <input type="text" formControlName="idproof" [(ngModel)]="idproof"
                                [attr.maxlength]="getMaxLength(selectedIDProofType)"
                                [attr.placeholder]="'Enter ' + selectedIDProofType + ' idproof'"
                                [attr.pattern]="getPattern(selectedIDProofType)" />

                            <div *ngIf="Editform.get('idproof')?.invalid && (Editform.get('idproof')?.dirty || Editform.get('idproof')?.touched)"
                                class="text-danger">
                                <div *ngIf="Editform.get('idproof')?.errors?.['required']">
                                    {{ selectedIDProofType }} Number is required.
                                </div>
                                <div *ngIf="Editform.get('idproof')?.errors?.['pattern']">
                                    Invalid {{ selectedIDProofType }} Number. Expected format: {{
                                    getExampleFormat(selectedIDProofType) }}.
                                </div>
                                <div *ngIf="Editform.get('idproof')?.errors?.['maxlength']">
                                    Maximum length allowed is {{ getMaxLength(selectedIDProofType) }} characters.
                                </div>
                            </div>
                        </div> -->

                        <div class="mb-3">
                            <label class="form-label">Mobile Number </label>
                            <input class="" type="text" [(ngModel)]="mobileno" formControlName="mobileno" maxlength="10"
                                required type="text" (keypress)="onKeydown($event)">

                            <div *ngIf="Editform.get('mobileno')?.touched && Editform.get('mobileno')?.invalid"
                                class="text-danger">
                                <div *ngIf="Editform.get('mobileno')?.errors?.['required']">Mobile Number is required.
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label>Street Name</label>
                            <select id="Street" [(ngModel)]="streetid" formControlName="streetid">
                                <option value="0" disabled>Select Street</option>
                                <option *ngFor="let key of filteredStreet" [value]="key.value">
                                    {{ key.name }}
                                </option>
                            </select>
                            <div style="position: relative;font-size: small;">
                                <div *ngIf="submitted && f['streetid'].errors?.['required']" class="text-danger">
                                    STREET Name is required</div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Identity Proof ID </label>
                            <select class="form-select" [(ngModel)]="idprooftypeid" formControlName="idprooftypeid"
                                (change)="resetData('idproof')">
                                <option *ngFor="let key of id_proof_list | keyvalue" [value]="key.value">
                                    {{ key.key }}
                                </option>
                            </select>
                            <div *ngIf="Editform.get('idprooftypeid')?.touched && Editform.get('idprooftypeid')?.invalid"
                                class="text-danger">
                                <div *ngIf="Editform.get('idprooftypeid')?.errors?.['required']">Identity Proof ID is
                                    required.</div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Identity Proof
                            </label>
                            <input class="" type="text" [(ngModel)]="idproof" formControlName="idproof" />
                            <div *ngIf="Editform.get('idproof')?.touched && Editform.get('idproof')?.invalid"
                                class="text-danger">
                                <div *ngIf="Editform.get('idproof')?.errors?.['required']">Identity Proof is required.
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Installation Address </label>
                            <textarea class="" type="text" style="height: 50px;" [(ngModel)]="installaddress"
                                formControlName="installaddress">
                            </textarea>
                            <div *ngIf="Editform.get('installaddress')?.touched && Editform.get('installaddress')?.invalid"
                                class="text-danger">
                                <div *ngIf="Editform.get('installaddress')?.errors?.['required']">Installation Address
                                    is required.</div>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Email</label>
                            <input class="" type="email" [(ngModel)]="email" formControlName="email">
                            <div *ngIf="Editform.get('email')?.invalid && Editform.get('email')?.touched">
                                <small class="text-danger" *ngIf="Editform.get('email')?.hasError('required')">
                                    Email is required.
                                </small>
                                <small class="text-danger"
                                    *ngIf="!Editform.get('email')?.hasError('required') && Editform.get('email')?.hasError('email')">
                                    Please enter a valid Email format.
                                </small>
                                <small class="text-danger"
                                    *ngIf="!Editform.get('email')?.hasError('required') && !Editform.get('email')?.hasError('email') && Editform.get('email')?.hasError('invalidEmail')">
                                    Email must include ".in" or ".com" after letters.
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="d-flex justify-content-center align-item-center  mb-4">
                <button type="button" class="btn btn-success mx-3 bttn" (click)="onSubmit()">Update</button>
                <button type="button" class="btn btn-danger me-2 bttn" (click)="onNoClick()">Cancel</button>
            </div>
        </form>
    </div>
</div>
<div *ngIf="sType=='ConfirmationReport'">
    <div class="Head d-flex justify-content-between align-items-center ">
        <span class="span" style="font-size: 17px;font-weight: 600;">Confirmation For Report</span>
        <i class="fa fa-close close-icon" (click)="onNoClick()"></i>
    </div>
    <div class="card">
        <label class="header">SUBSCRIBER RECHARGE BILL
        </label>
        <div class="mb-3 display justify-content-center align-items-center " style="padding: 1rem;">
            <div class="col-12 col-md-3">
                <label class="formlabel">Filter
                </label>
            </div>
            <div class="col-12 col-md-6">
                <mat-form-field>
                    <input matInput [matDatepicker]="dp" [formControl]="date">
                    <mat-datepicker-toggle matIconSuffix [for]="dp"></mat-datepicker-toggle>
                    <mat-datepicker #dp startView="multi-year" (monthSelected)="setMonthAndYear($event, dp)"
                        panelClass="example-month-picker">
                    </mat-datepicker>
                </mat-form-field>
            </div>
            <div class="col-12 col-md-3 d-flex justify-content-center align-items-center mb-3 "
                (click)="getPdfSubscriberRechargeDetails()">
                <div class="icon-container" style="cursor: pointer;">
                    <img src="/assets/images/icons/pdf.png" width="40px">
                    <div class="tooltip">Pdf</div>
                </div>
            </div>
        </div>
    </div>
</div>
<div *ngIf="sType=='addSmartcard'">
    <div class="Head d-flex justify-content-between align-items-center ">
        <span class="span">ADD SMARTCARD</span>
        <i class="fa fa-close close-icon" (click)="onNoClick()"></i>
    </div>
    <div class="card">
        <div class=" d-flex justify-content-center align-item-center">
            <div class="">
                <div class="col display justify-content-center align-items-center">
                    <div class="col-12 col-sm-12 col-md-12" style="padding: 1rem;">
                        <div class="row">
                            <div class="input_box display mb-3 ">
                                <div class="col-12 col-md-4">
                                    <label for="">CAS TYPE
                                    </label>
                                </div>
                                <div class="col-12 col-md-8">
                                    <select placeholder="Select the CAS" [(ngModel)]="castypeSmartcard"
                                        (change)="casTypelist($event)">
                                        <option value="0" disabled>Select CAS</option>
                                        <option *ngFor="let casItem of cas" [value]="casItem.id">
                                            {{ casItem.name }}
                                        </option>
                                    </select>
                                    <div *ngIf="submitted && !castypeSmartcard" class="text-danger"
                                        style="font-size: small;">
                                        Castype is required
                                    </div>
                                </div>
                            </div>
                            <div class=" display mb-3">
                                <div class="input_box col-12 col-md-4">
                                    <label for="">Smartcard</label>
                                </div>
                                <div class="col-12 col-md-8">
                                    <select id="smartcard" [(ngModel)]="smartcard">
                                        <option value="0" selected>Select a Smartcard</option>
                                        <option *ngFor="let area of filteredIntendArea()" [value]="area.name"
                                            (ngMOdelChange)="onSmartcardList($event)">
                                            {{ area.name }}
                                        </option>
                                    </select>


                                    <div *ngIf="submitted && !smartcard" class="text-danger" style="font-size: small;">
                                        Smartcard is required
                                    </div>
                                </div>
                            </div>
                            <div class="input_box display mb-3">
                                <div class="col-12 col-md-4">
                                    <label for="">Boxid</label>
                                </div>
                                <div class="col-12 col-md-8">
                                    <input placeholder="Enter Boxid" type="text" [(ngModel)]="boxid" readonly
                                        id="boxid">
                                    <div *ngIf="submitted && !boxid" class="text-danger" style="font-size: small;">
                                        Boxid is required
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="d-flex justify-content-center align-item-center mb-4">
                    <button type="button" class="btn btn-success mx-3" (click)="addSmartcard()">Submit</button>
                    <button type="button" class="btn btn-danger me-2" (click)="onNoClick()">Cancel</button>
                </div>
            </div>
        </div>
    </div>
</div>
<div *ngIf="sType=='change_lco'">
    <div class="Head d-flex justify-content-between align-items-center ">
        <span class="span">CHANGE OPERATOR</span>
        <i class="fa fa-close close-icon" (click)="onNoClick()"></i>
    </div>
    <div class="card">
        <div class=" d-flex justify-content-center align-item-center" style="padding:6px 9px">
            <div class="">
                <div class="col display justify-content-center align-items-center">
                    <div class="col-12 col-sm-12 col-md-12" style="padding: 1rem;">
                        <div class="row">
                            <div class="input_box display mb-3 ">
                                <div class="col-12 col-md-4">
                                    <label for="">LCO Name
                                    </label>
                                </div>
                                <div class="col-12 col-md-8" *ngIf="role !== 'ROLE_OPERATOR'">
                                    <input type="text" matInput [matAutocomplete]="auto" [(ngModel)]="lcoid"
                                        name="lcoName" (ngModelChange)="filterOperators($event)"
                                        placeholder="Select a Operator" [matAutocompleteDisabled]="false"
                                        [value]="selectedOperator?.name" (focus)="onInputFocus()"
                                        (blur)="onInputBlur()">
                                    <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayOperator">
                                        <mat-option *ngFor="let operator of filteredOperators" [value]="operator.value"
                                            (click)="onoperatorchange(operator)">
                                            {{ operator.name }}
                                        </mat-option>
                                    </mat-autocomplete>
                                    <div *ngIf="lcoid.invalid && lcoid.touched" class="text-danger">
                                        LCO Name is required
                                    </div>
                                </div>

                                <div class="col-12 col-md-8" *ngIf="role === 'ROLE_OPERATOR' && distributor">
                                   
                                    <input type="text" matInput [matAutocomplete]="auto" [(ngModel)]="operatorname"
                                        name="lcoName" (ngModelChange)="filterOperators($event)"
                                        placeholder="Select or type Operator" (focus)="onInputFocus()"
                                        (blur)="onInputBlur()">

                                    <mat-autocomplete #auto="matAutocomplete">
                                        <mat-option *ngFor="let operator of filteredOperators" [value]="operator.name"
                                            (onSelectionChange)="onoperatorchange(operator)">
                                            {{ operator.name }}
                                        </mat-option>
                                    </mat-autocomplete>

                                    <div *ngIf="lcoid.invalid && lcoid.touched" class="text-danger">
                                        LCO Name is required
                                    </div>
                                </div>
                                <div *ngIf="role == 'ROLE_OPERATOR' && !distributor" class="col-12 col-md-8">
                                    {{operatorname}}
                                </div>
                            </div>
                            <div class="input_box display mb-3">
                                <div class="col-12 col-md-4">
                                    <label for="">Area Name</label>
                                </div>
                                <div class="col-12 col-md-8">
                                    <input type="text" matInput [matAutocomplete]="autoArea" [(ngModel)]="lcoareaid"
                                        name="areaName" (input)="filterAreas($event)" placeholder="Select a areaid"
                                        [matAutocompleteDisabled]="false" [value]="selectedArea?.name">

                                    <mat-autocomplete #autoArea="matAutocomplete" [displayWith]="displayArea">
                                        <mat-option *ngFor="let area of filteredAreas" [value]="area.value"
                                            (click)="onAreaStatusChange(area)">
                                            {{ area.name }}
                                        </mat-option>
                                    </mat-autocomplete>
                                    <div *ngIf="lcoareaid.invalid && lcoareaid.touched" class="text-danger">
                                        Area Name is required
                                    </div>
                                </div>
                            </div>
                            <div class="input_box display mb-3">
                                <div class="col-12 col-md-4">
                                    <label for="">Street Name</label>
                                </div>
                                <div class="col-12 col-md-8">
                                    <input type="text" placeholder="Search a Street" [(ngModel)]="lcostreetid"
                                        name="streetName" [matAutocomplete]="autoStreet" class="example-input"
                                        [value]="selectedStreet?.name" (input)="filterStreet($event)">
                                    <mat-autocomplete #autoStreet="matAutocomplete" [displayWith]="displayStreet">
                                        <mat-option *ngFor="let key of filteredStreet" [value]="key.value"
                                            (click)="onStreetStatusChange(key)">
                                            {{ key.name }}
                                        </mat-option>
                                    </mat-autocomplete>
                                    <div *ngIf="lcostreetid.invalid && lcostreetid.touched" class="text-danger">
                                        Street Name is required
                                    </div>
                                </div>
                            </div>
                            <div *ngIf="role === 'ROLE_OPERATOR' ||  role === 'ROLE_SUBLCO'">
                                <div class="input_box display mb-3">
                                    <div class="col-12 col-md-4">
                                        <span for="commentInput" class="me-2">Comment</span>
                                    </div>
                                    <div class="col-12 col-md-8 value">
                                        <input id="commentInput" type="text" placeholder="Enter Comment"
                                            [(ngModel)]="comment">
                                    </div>
                                </div>
                            </div>
                            <div class="cancelcard ">
                                <div class=" input_box display mb-3">
                                    <div class=" col-12 col-md-6">
                                        <span style="font-size:14px;font-weight:600;color:#259bb7">Cancel Current
                                            Subscription</span>
                                    </div>
                                    <div class="col-12 col-md-6 value">
                                        <mat-radio-group class="radio-group" aria-labelledby="status"
                                            [(ngModel)]="withsubscription">
                                            <mat-radio-button class="radio-button" [value]="true">Yes
                                            </mat-radio-button>&nbsp;
                                            <mat-radio-button class="radio-button" [value]="false">No
                                            </mat-radio-button>
                                        </mat-radio-group>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="d-flex justify-content-center align-item-center mx-3 mb-4">
                    <button type="button" class="btn btn-success mx-3 bttn"
                        [disabled]="lcoid.invalid || lcoareaid.invalid || lcostreetid.invalid"
                        (click)="changeOperator()">Submit</button>
                    <button type="button" class="btn btn-danger me-2 bttn" (click)="onNoClick()">Cancel</button>
                </div>
            </div>
        </div>
    </div>

</div>
<div *ngIf="sType=='refresh'">
    <div class="Head d-flex justify-content-between align-items-center mb-3">
        <span class="span">REFRESH SMARTCARD</span>
        <i class="fa fa-close close-icon" (click)="onNoClick()"></i>
    </div>
    <div class="mobileview">
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span for="Subscriber_name" class="me-2">Subscriber Name</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{subscribername}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span class="me-2">Mobile Number</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{mobile}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span class="me-2">Smartcard</span>
                </div>
                <div class="col-6 col-md-6 value">
                    <!-- {{smartcardno}} {{newRefreshSmartcard.smartcard}} -->
                    {{ smartcardno || newRefreshSmartcard?.smartcard || 'Smartcard Not available' }}

                </div>
            </div>
        </div>

        <div class="input_box Isactive mb-3">
            <div class="d-flex align-items-center justify-content-center">

                <div class="col-6 col-md-6">
                    <span class="me-2">Boxid</span>
                </div>
                <div class="col-6 col-md-6 value">
                    <!-- {{boxno}}{{newRefreshSmartcard.boxid}} -->
                    {{ boxno || newRefreshSmartcard?.boxid || 'Boxid Not available' }}
                </div>
            </div>
        </div>

        <div class="  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="input_box  col-6 col-md-6">
                    <span class="me-2">Status</span>
                </div>
                <div class="col-6 col-md-6 value"
                    [ngClass]="{'status-enable': statusdisplay === 'Active', 'status-disable': statusdisplay === 'Deactive'}">
                    <div class="toggle">
                        {{ statusdisplay || newRefreshSmartcard?.statusdisplay || 'No status available' }}
                    </div>
                </div>

            </div>
        </div>

        <div class="col-12 col-md-12 d-flex  justify-content-center align-items-center mb-3">
            <label for="" style="color: green;text-align: center;">Are you sure refresh this smartcard ?</label>
        </div>
    </div>
    <div class="d-flex justify-content-center align-item-center mx-4 mb-3">
        <button type="button" class="btn btn-success me-2 bttn" (click)="refreshSmartcard()">Yes</button>
        <button type="button" class="btn btn-danger bttn" (click)="onNoClick()">No</button>
    </div>
</div>
<div *ngIf="sType=='deactive'">
    <div class="Head d-flex justify-content-between align-items-center mb-3">
        <span class="span">DE-ACTIVE SMARTCARD</span>
        <i class="fa fa-close close-icon" (click)="onNoClick()"></i>
    </div>
    <div class="mobileview">
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span for="Subscriber_name" class="me-2">Subscriber Name</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{subscribername}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span class="me-2">Mobile Number</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{mobile}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span for="password" class="me-2">Smartcard</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{smartcardno}}
                </div>
            </div>
        </div>

        <div class="input_box Isactive mb-3">
            <div class="d-flex align-items-center justify-content-center">

                <div class="col-6 col-md-6">
                    <span class="me-2">Boxid</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{boxno}}
                </div>
            </div>
        </div>

        <div class="  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="input_box  col-6 col-md-6">
                    <span class="me-2">Status</span>
                </div>
                <div class="col-6 col-md-6 value"
                    [ngClass]="{'status-enable': statusdisplay === 'Active', 'status-disable': statusdisplay === 'Deactive'}">
                    <div class="toggle">
                        {{statusdisplay}}
                    </div>
                </div>
            </div>
        </div>

        <div class="col-12 col-md-12 d-flex  justify-content-center align-items-center mb-3">
            <label for="" style="color: red;text-align: center;">Are you sure de-activate this smartcard ?</label>
        </div>
    </div>
    <div class="d-flex justify-content-center align-item-center mx-4 mb-3">
        <button type="button" class="btn btn-success me-2 bttn" (click)="deactivationofSmartcard()">Yes</button>
        <button type="button" class="btn btn-danger bttn" (click)="onNoClick()">No</button>
    </div>
</div>
<div *ngIf="sType=='pinchange'">
    <div class="Head d-flex justify-content-between align-items-center mb-3">
        <span class="span">PIN CHANGE</span>
        <i class="fa fa-close close-icon" (click)="onNoClick()"></i>
    </div>
    <div class="mobileview">
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span for="Subscriber_name" class="me-2">Subscriber Name</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{subscribername}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span class="me-2">Mobile Number</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{mobile}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span for="password" class="me-2">Smartcard</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{smartcardno}}
                </div>
            </div>
        </div>

        <div class="input_box Isactive mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span class="me-2">Boxid</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{boxno}}
                </div>
            </div>
        </div>

        <div class=" input_box mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="  col-6 col-md-6">
                    <span class="me-2">Old PIN</span>
                </div>
                <div class="col-6 col-md-6 value">
                    <div class="toggle">
                        {{oldpin}}
                    </div>
                </div>

            </div>
        </div>

        <div class="  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="input_box  col-6 col-md-6">
                    <label class="me-2">NEW PIN</label>
                </div>

                <div class="toggle input_box">
                    <input type="text" [(ngModel)]="newpin" maxlength="4" (keypress)="onKeydown($event)"
                        (input)="onBoxIdInputChange()">
                    <div *ngIf="errorMessage" class="text-danger mt-2">{{ errorMessage }}</div>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-center align-item-center mx-4 mb-3">
        <button type="button" class="btn btn-success me-2 bttn" (click)="pinchange()">Update</button>
        <button type="button" class="btn btn-danger bttn" (click)="onNoClick()">Cancel</button>
    </div>
</div>
<div *ngIf="sType=='pvrchange'">
    <div class="Head d-flex justify-content-between align-items-center mb-3">
        <span class="span">PVR CHANGE</span>
        <i class="fa fa-close close-icon" (click)="onNoClick()"></i>
    </div>
    <div class="mobileview">
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span for="Subscriber_name" class="me-2">Subscriber Name</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{subscribername}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span class="me-2">Mobile Number</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{mobile}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span for="password" class="me-2">Smartcard</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{smartcardno}}
                </div>
            </div>
        </div>

        <div class="input_box Isactive mb-3">
            <div class="d-flex align-items-center justify-content-center">

                <div class="col-6 col-md-6">
                    <span class="me-2">Boxid</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{boxno}}
                </div>
            </div>
        </div>

        <div class="  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class=" input_box col-6 col-md-6">
                    <label class="me-2">PVR STATUS</label>
                </div>

                <div class="col-6 col-md-6 value">
                    <input class="PVRstatus" type="checkbox" [(ngModel)]="PVRstatus">
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-center align-item-center mx-4 mb-3">
        <button type="button" class="btn btn-success me-2 bttn" (click)="pvrchange()">Update</button>
        <button type="button" class="btn btn-danger bttn" (click)="onNoClick()">Cancel</button>
    </div>
</div>
<div *ngIf="sType=='deletemessage'">
    <div class="Head d-flex justify-content-between align-items-center mb-3">
        <span class="span">DELETE FORCE MESSAGE</span>
        <i class="fa fa-close close-icon" (click)="onNoClick()"></i>
    </div>
    <div class="mobileview">
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span for="Subscriber_name" class="me-2">Subscriber Name</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{subscribername}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span class="me-2">Mobile Number</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{mobile}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-12 col-md-6">
                    <span for="password" class="me-2">Smartcard</span>
                </div>
                <div class="col-12 col-md-6">
                    {{smartcardno}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">

                <div class="col-6 col-md-6">
                    <span class="me-2">Boxid</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{boxno}}
                </div>
            </div>
        </div>

        <div class=" input_box mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="  col-6 col-md-6">
                    <label class="me-2">Message</label>
                </div>
                <div class="col-6 col-md-6 value">
                    {{packageMessage?.msgcontent}}
                </div>
            </div>
        </div>
        <div class="col-12 col-md-12 d-flex  justify-content-center align-items-center mb-3">
            <label for="" style="color: green;text-align: center;">Are you sure delete force message ?
            </label>
        </div>
    </div>
    <div class="d-flex justify-content-center align-item-center mx-4 mb-3">
        <button type="button" class="btn btn-success me-2 bttn" (click)="deleteForceMessage()">Yes</button>
        <button type="button" class="btn btn-danger bttn" (click)="onNoClick()">No</button>
    </div>
</div>
<div *ngIf="sType=='sendmessage'">
    <div class="Head d-flex justify-content-between align-items-center mb-3">
        <span class="span">SEND MESSAGE</span>
        <i class="fa fa-close close-icon" (click)="onNoClick()"></i>
    </div>
    <form [formGroup]="Sendmseform">
        <div class="mobileview">
            <div class="input_box  mb-3">
                <div class="d-flex align-items-center justify-content-center">
                    <div class="col-6 col-md-6">
                        <span for="Subscriber_name" class="me-2">Smartcard</span>
                    </div>
                    <div class="col-6 col-md-6 value">
                        {{smartcardno}}
                    </div>
                </div>
            </div>
            <div class="input_box Isactive mb-3">
                <div class="d-flex align-items-center justify-content-center">
                    <div class="col-6 col-md-6">
                        <span class="me-2"> Boxid</span>
                    </div>
                    <div class="col-6 col-md-6 value">
                        {{boxno}}
                    </div>
                </div>
            </div>
            <div class="input_box  mb-3">
                <div class="d-flex align-items-center justify-content-center">
                    <div class="col-6 col-md-6">
                        <span class="me-2">Force Message</span>
                    </div>
                    <div class="col-2 col-md-2 value">
                        <input style="width: 20px;height: 20px;" type="checkbox" [(ngModel)]="forcemsg"
                            formControlName="forcemessage">
                    </div>
                    <div class="col-4 col-md-4 value"
                        [ngClass]="{'status-enable': forcemsg === true, 'status-disable': forcemsg === false}">
                        <div class="toggle">
                            {{ forcemsg ? 'Enable' : 'Disable' }}
                        </div>
                    </div>

                </div>
            </div>
            <div class="input_box  mb-3">
                <div class="d-flex align-items-center justify-content-center">
                    <div class="col-6 col-md-6">
                        <label class="me-2">No.of Time </label>
                    </div>
                    <div class="col-6 col-md-6 value" [ngClass]="{'disabled-div': forcemsg}">
                        <input type="text" name="" id="" [(ngModel)]="repeatfor" formControlName="repeatfor"
                            maxlength="2" [disabled]="forcemsg" (keypress)="onKeydown($event)">
                        <!-- <div *ngIf="Sendmseform.get('repeatfor')?.invalid && Sendmseform.get('repeatfor')?.touched">
                            <small class="text-danger">No.of Time is required.</small>
                        </div> -->
                    </div>
                </div>
            </div>

            <div class="input_box  mb-3">
                <div class="d-flex align-items-center justify-content-center">
                    <div class="col-6 col-md-6">
                        <label for="password" class="me-2">Display Duration </label>
                    </div>
                    <div class="col-6 col-md-6 value" [ngClass]="{'disabled-div': forcemsg}">
                        <input type="text" name="" id="" [(ngModel)]="duration" formControlName="duration"
                            [disabled]="forcemsg" (keypress)="onKeydown($event)">
                        <!-- <div *ngIf="Sendmseform.get('duration')?.invalid && Sendmseform.get('duration')?.touched">
                            <small class="text-danger">Display Duration is required.</small>
                        </div> -->
                    </div>
                </div>
            </div>
            <div class=" input_box mb-3">
                <div class="d-flex align-items-center justify-content-center">
                    <div class=" col-6 col-md-6">
                        <label class="me-2">Time Interval </label>
                    </div>
                    <div class="col-6 col-md-6 value" [ngClass]="{'disabled-div': forcemsg}">
                        <input type="text" name="" id="" [(ngModel)]="timegap" formControlName="timegap"
                            [disabled]="forcemsg" (keypress)="onKeydown($event)">
                        <!-- <div *ngIf="Sendmseform.get('timegap')?.invalid && Sendmseform.get('timegap')?.touched">
                            <small class="text-danger">Time Interval is required.</small>
                        </div> -->
                    </div>
                </div>
            </div>
            <!-- {{packageMessage.msgcontent}} -->
            <div class=" input_box mb-3">
                <div class="d-flex align-items-center justify-content-center">
                    <div class=" col-6 col-md-6">
                        <label class="me-2">Message </label>
                    </div>
                    <div class="col-6 col-md-6 value">
                        <!-- <textarea name="" id="" placeholder="N/A" [value]="packageMessage"
                            formControlName="message" [maxlength]="117" (input)="updateRemainingChars($event)"></textarea> -->
                        <textarea name="" id="" placeholder="N/A" formControlName="message"
                            [(ngModel)]="packageMessage.msgcontent" [maxlength]="117"></textarea>
                        <!-- (input)="updateRemainingChars($event)"></textarea> -->
                        <!-- <div>
                            <small>{{ remainingChars }} characters remaining</small>
                        </div> -->
                        <div *ngIf="Sendmseform.get('message')?.invalid && Sendmseform.get('message')?.touched">
                            <small class="text-danger">Message is required.</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="d-flex justify-content-center align-item-center mx-4 mb-2">
            <button type="button" class="btn btn-success me-2 bttn" (click)="sendMessage()">Send</button>
            <button type="button" class="btn btn-danger bttn" (click)="onNoClick()">Cancel</button>
        </div>
    </form>
</div>
<div *ngIf="sType=='forcetuning'">
    <div class="Head d-flex justify-content-between align-items-center mb-3">
        <span class="span">FORCE TUNING</span>
        <i class="fa fa-close close-icon" (click)="onNoClick()"></i>
    </div>
    <div class="mobileview">
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span for="Subscriber_name" class="me-2">Subscriber Name</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{subscribername}}
                </div>
            </div>
        </div>
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span class="me-2">Mobile Number</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{mobile}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span for="password" class="me-2">Smartcard</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{smartcardno}}
                </div>
            </div>
        </div>

        <div class="input_box Isactive mb-3">
            <div class="d-flex align-items-center justify-content-center">

                <div class="col-6 col-md-6">
                    <span class="me-2">Boxid</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{boxno}}
                </div>
            </div>
        </div>
        <div class="  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class=" input_box col-6 col-md-6">
                    <label class="me-2">Status</label>
                </div>
                <div class="col-6 col-md-6 value"
                    [ngClass]="{'status-enable ': status === 1, 'status-disable': status === 2}">
                    <div class="toggle">
                        {{ status ? 'New' : 'Old' }}
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12 col-md-12 d-flex  justify-content-center align-items-center mb-3">
            <label for="" style="color: green;text-align: center;">Are you sure force tuning this smartcard ?</label>
        </div>
    </div>
    <div class="d-flex justify-content-center align-item-center mx-4 mb-3">
        <button type="button" class="btn btn-success me-2 bttn" (click)="forcetuning()">Yes</button>
        <button type="button" class="btn btn-danger bttn" (click)="onNoClick()">No</button>
    </div>
</div>
<div *ngIf="sType=='reactivation'">
    <div class="Head d-flex justify-content-between align-items-center mb-3">
        <span class="span">RE-ACTIVATE SMARTCARD</span>
        <i class="fa fa-close close-icon" (click)="onNoClick()"></i>
    </div>
    <div class="mobileview">
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span for="Subscriber_name" class="me-2">Subscriber Name</span>
                </div>

                <div class="col-6 col-md-6">
                    {{subscribername}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span class="me-2">Mobile Number</span>
                </div>
                <div class="col-6 col-md-6">
                    {{mobile}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span for="password" class="me-2">Smartcard</span>
                </div>
                <div class="col-6 col-md-6">
                    {{smartcardno}}
                </div>
            </div>
        </div>

        <div class="input_box Isactive mb-3">
            <div class="d-flex align-items-center justify-content-center">

                <div class="col-6 col-md-6">
                    <span class="me-2">Boxid</span>
                </div>
                <div class="col-6 col-md-6">
                    {{boxno}}
                </div>
            </div>
        </div>

        <div class="  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class=" input_box col-6 col-md-6">
                    <label class="me-2">Status</label>
                </div>
                <div class="col-12 col-md-6"
                    [ngClass]="{'status-disable': statusdisplay === 'Deactive', 'status-enable': statusdisplay === 'Active'}">
                    <div class="toggle">
                        {{statusdisplay}}
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12 col-md-12 d-flex  justify-content-center align-items-center mb-3">
            <label for="" style="color: green;text-align: center;">Are you sure Re-Activate this smartcard ?</label>
        </div>
    </div>
    <div class="d-flex justify-content-center align-item-center mx-4 mb-3">
        <button type="button" class="btn btn-success me-2 bttn" (click)="reactivationofSmartcard()">Yes</button>
        <button type="button" class="btn btn-danger bttn" (click)="onNoClick()">No</button>
    </div>
</div>
<div *ngIf="sType=='block'">
    <div class="Head d-flex justify-content-between align-items-center mb-3">
        <span class="span">BLOCK SMARTCARD</span>
        <i class="fa fa-close close-icon" (click)="onNoClick()"></i>
    </div>
    <div class="mobileview">
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span for="Subscriber_name" class="me-2">Subscriber Name</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{subscribername}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span class="me-2">Mobile Number</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{mobile}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span for="password" class="me-2">Smartcard</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{smartcardno}}
                </div>
            </div>
        </div>

        <div class="input_box Isactive mb-3">
            <div class="d-flex align-items-center justify-content-center">

                <div class="col-6 col-md-6">
                    <span class="me-2">Boxid</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{boxno}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="  col-6 col-md-6">
                    <span class="me-2">Status</span>
                </div>
                <div class="col-12 col-md-6"
                    [ngClass]="{'status-disable': statusdisplay === 'Deactive', 'status-enable': statusdisplay === 'Active'}">
                    <div class="toggle">
                        {{statusdisplay}}
                    </div>
                </div>
            </div>
        </div>
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="  col-6 col-md-6">
                    <label class="me-2">Reason</label>
                </div>
                <div class="col-6 col-md-6 value">
                    <textarea name="" id="" [(ngModel)]="block_reason" (input)="onBoxIdInputChange()"></textarea>

                    <div *ngIf="errorMessage" class="text-danger mt-2">{{ errorMessage }}</div>
                </div>
            </div>
        </div>
        <div class="col-12 col-md-12 d-flex  justify-content-center align-items-center mb-3">
            <label for="" style="color: red;text-align: center;">Are you sure block this smartcard ? </label>
        </div>
    </div>
    <div class="d-flex justify-content-center align-item-center mx-4 mb-3">
        <button type="button" class="btn btn-success me-2 bttn" (click)="block()">Yes</button>
        <button type="button" class="btn btn-danger bttn" (click)="onNoClick()">No</button>
    </div>
</div>
<div *ngIf="sType=='boxchange'">
    <div class="Head d-flex justify-content-between align-items-center mb-3">
        <span class="span">BOX TRANSFER</span>
        <i class="fa fa-close close-icon" (click)="onNoClick()"></i>
    </div>
    <div class="mobileview">
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span for="Subscriber_name" class="me-2">Subscriber Name</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{subscribername}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span class="me-2">Mobile Number</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{mobile}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span for="password" class="me-2">Smartcard</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{smartcardno}}
                </div>
            </div>
        </div>

        <div class="input_box Isactive mb-3">
            <div class="d-flex align-items-center justify-content-center">

                <div class="col-6 col-md-6">
                    <span class="me-2">Old Boxid</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{boxno}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="  col-6 col-md-6">
                    <label class="me-2">New Boxid</label>
                </div>
                <div class="col-6 col-md-6 value">
                    <input type="text" [(ngModel)]="new_boxid" (input)="onBoxIdInputChange()">
                    <div *ngIf="errorMessage" class="text-danger mt-2">{{ errorMessage }}</div>
                </div>
            </div>
        </div>


    </div>
    <div class="d-flex justify-content-center align-item-center mx-4 mb-3">
        <button type="button" class="btn btn-success me-2 bttn" (click)="boxIdChange()">Yes</button>
        <button type="button" class="btn btn-danger bttn" (click)="onNoClick()">No</button>
    </div>
</div>
<div *ngIf="sType=='smartcardchange'">
    <div class="Head d-flex justify-content-between align-items-center mb-3">
        <span class="span">SMARTCARD TRANSFER</span>
        <i class="fa fa-close close-icon" (click)="onNoClick()"></i>
    </div>
    <div class="mobileview">
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span for="Subscriber_name" class="me-2">Subscriber Name</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{subscribername}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span class="me-2">Mobile Number</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{mobile}}
                </div>
            </div>
        </div>
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span class="me-2">LCO Name</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{lconame}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span for="password" class="me-2">Smartcard</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{smartcardno}}
                </div>
            </div>
        </div>

        <div class="input_box Isactive mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span class="me-2"> Boxid</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{boxno}}
                </div>
            </div>
        </div>

        <div class="input_box mb-3">
            <div class="d-flex ">
                <div class="  col-6 col-md-6">
                    <label class="me-2">New LCO Name</label>
                </div>
                <div *ngIf="role !== 'ROLE_OPERATOR' && role !== 'ROLE_SUBLCO'" class="col-6 col-md-6 value">
                    <select id="lco" [(ngModel)]="operatorid" (change)="onSubscriberStatusChange($event)">
                        <option value="0" selected>Select a Operator</option>
                        <option *ngFor="let key of filteredOperators" [value]="key.value">
                            {{ key.name }}
                        </option>
                    </select>
                    <div *ngIf="errorMessage" class="text-danger mt-2">{{ errorMessage }}</div>
                </div>
                <div *ngIf="role === 'ROLE_OPERATOR' || role === 'ROLE_SUBLCO'">
                    {{operatorname}}
                </div>
            </div>
        </div>
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="  col-6 col-md-6">
                    <label class="me-2">Subscriber</label>
                </div>
                <div class="col-6 col-md-6 value">
                    <select id="subscriber" [(ngModel)]="subid" (change)="onsublist($event)">
                        <option value="0" selected>Select a Subscriber</option>
                        <option *ngFor="let sub of filteredSub" [value]="sub.value">
                            {{ sub.name }}
                        </option>
                    </select>
                </div>
            </div>
            <div *ngIf="role === 'ROLE_OPERATOR' ||  role === 'ROLE_SUBLCO'" class="input_box mb-3">
                <div class="d-flex align-items-center justify-content-center">
                    <div class="col-6 col-md-6">
                        <span for="commentInput" class="me-2">Comment</span>
                    </div>
                    <div class="col-6 col-md-6 value">
                        <input id="commentInput" type="text" placeholder="Enter Comment" [(ngModel)]="comment">
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="packageStatus !== 'Expired'" class="card  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="input_box ">
                    <span>Cancel Current Subscription</span>
                </div>
                <mat-radio-group class="radio-group" aria-labelledby="status" [(ngModel)]="withsubscription">
                    <mat-radio-button class="radio-button" [value]="true">Yes
                    </mat-radio-button>&nbsp;
                    <mat-radio-button class="radio-button" [value]="false">No
                    </mat-radio-button>
                </mat-radio-group>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-center align-item-center mx-4 mb-3">
        <button type="button" class="btn btn-success me-2 bttn" (click)="lcotransferSinglesmartcard()">Submit</button>
        <button type="button" class="btn btn-danger bttn" (click)="onNoClick()">Cancel</button>
    </div>
</div>

<div *ngIf="sType=='resumechange'">
    <div class="Head d-flex justify-content-between align-items-center mb-3">
        <span class="span">RESUME SMARTCARD</span>
        <i class="fa fa-close close-icon" (click)="onNoClick()"></i>
    </div>
    <div class="mobileview">
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span for="Subscriber_name" class="me-2">Subscriber Name</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{subscribername}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span class="me-2">Mobile Number</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{mobile}}
                </div>
            </div>
        </div>
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span class="me-2">LCO Name</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{mobile}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span for="password" class="me-2">Smartcard</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{smartcardno}}
                </div>
            </div>
        </div>

        <div class="input_box Isactive mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span class="me-2"> Boxid</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{boxno}}
                </div>
            </div>
        </div>
        <div class="  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="input_box col-6 col-md-6">
                    <span class="me-2">Status</span>
                </div>
                <div class="col-12 col-md-6"
                    [ngClass]="{'status-disable': statusdisplay === 'Deactive', 'status-enable': statusdisplay === 'Active'}">
                    <div class="toggle">
                        {{statusdisplay}}
                    </div>
                </div>
            </div>
        </div>

        <div class="col-12 col-md-12 d-flex  justify-content-center align-items-center mb-3">
            <label for="" style="color: green;text-align: center;">Are you sure resume this smartcard ?</label>
        </div>
    </div>
    <div class="d-flex justify-content-center align-item-center mx-3 mb-2">
        <button type="button" class="btn btn-success me-2 bttn" (click)="resume()">Yes</button>
        <button type="button" class="btn btn-danger bttn" (click)="onNoClick()">No</button>
    </div>
</div>
<div *ngIf="sType=='packagactivation'">
    <div class="Head d-flex justify-content-between align-items-center mb-3">
        <span class="span">FIRST TIME ACTIVATION</span>
        <i class="fa fa-close close-icon" (click)="onNoClick()"></i>
    </div>
    <div class="mobileview1">
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span for="password" class="me-2">Smartcard</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{smartcardno}}
                </div>
            </div>
        </div>
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span class="me-2">LCO Name</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{operatorname}}
                </div>
            </div>
        </div>
        <div class="input_box Isactive mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span class="me-2"> Boxid</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{boxno}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center  mb-3">
                <div class="col-6 col-md-6">
                    <label for="">Package Name </label>
                </div>
                <div class=" col-6 col-md-6 ">
                    <select id="package" [(ngModel)]="newpackagename" class="js-states"
                        (ngModelChange)="onSelectionrechargetype($event)">
                        <option value="0" selected disabled>Select Package Name</option>
                        <option *ngFor="let package of packagenameList" [value]="package.packageid">
                            {{ package.packagename }}
                        </option>
                    </select>
                </div>
            </div>
        </div>
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center mb-3">
                <div class="col-6 col-md-6">
                    <label for="">Recharge Type</label>
                </div>
                <div class="col-6 col-md-6 ">
                    <select [(ngModel)]="selectedRechargetype" (ngModelChange)="onSelectionrechargetype($event)">
                        <option value="0" selected disabled>Selected Recharge</option>
                        <option *ngFor="let rt of rechargetype" [value]="rt.id">
                            {{rt.name}}
                        </option>
                    </select>
                </div>
            </div>
            <div *ngIf="isplantype" class="mb-3">
                <div class="d-flex align-items-center justify-content-center">
                    <div class="col-6 col-md-6 ">
                        <label for="">Plan Type</label>
                    </div>
                    <div class="col-6 col-md-6">
                        <select [(ngModel)]="plantype" (ngModelChange)="onSelectionplantype($event)">
                            <option value="0" selected disabled>Selected Plan</option>
                            <option *ngFor="let plan of plantype$ | async" [value]="plan.value">
                                {{ plan.key }}
                            </option>
                        </select>
                    </div>
                </div>
            </div>
            <div *ngIf="datetype" class="mb-3">
                <div class="d-flex align-items-center justify-content-center">
                    <div class="col-6 col-md-6 ">
                        <label for="">Date</label>
                    </div>
                    <div class="col-6 col-md-6">
                        <input type="date" [(ngModel)]="f_date" (ngModelChange)="onSelectionrechargetype($event)"
                            [min]="tomorrow">
                    </div>
                </div>
            </div>
        </div>

    </div>
    <div *ngIf="confirmation">
        <div style="padding: 1rem;">
            <div class="card mb-2" style="padding: 1rem;">
                <div class="input_box  mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-6">
                            <span class="me-2">Old Expiry date</span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            {{First_list?.oldExpiryDate}}
                        </div>
                    </div>
                </div>
                <div class="input_box  mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-6">
                            <span class="me-2">New Expiry date </span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            {{First_list?.expiryDate}}
                        </div>
                    </div>
                </div>
                <!-- <div class="input_box  mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-6">
                            <span class="me-2">Customer Amount</span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            {{First_list?.customerPayAmount}}
                        </div>
                    </div>
                </div>
                <div *ngIf="role == 'ROLE_SUBLCO' && Subwallet && sublcoDiscount == 1 || role != 'ROLE_SUBLCO'"
                    class="input_box Isactive mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-6">
                            <span class="me-2"> MSO Amount </span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            {{First_list?.msoAmount}}
                        </div>
                    </div>
                </div> -->



                <div class="input_box  mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-6">
                            <span class="me-2">Customer Amount</span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            {{First_list?.customerPayAmount}}
                        </div>
                    </div>
                </div>

                <div *ngIf="(role =='ROLE_SUBLCO' && sublcoDiscount == 1 && Subwallet) ||  (role !='ROLE_SUBLCO')"
                    class="input_box  mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-6">
                            <span class="me-2">MSO Amount</span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            {{First_list?.msoAmount}}
                        </div>
                    </div>
                </div>


                <div class="mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="input_box col-6 col-md-6">
                            <span class="me-2">Customer pay </span>
                        </div>

                        <div class="col-6 col-md-6 display justify-content-start align-items-center">
                            <div class="can-toggle">
                                <input id="a" type="checkbox" [(ngModel)]="iscollected" (change)="onBillTypeChange()">
                                <label for="a">
                                    <div class="can-toggle__switch" data-checked="Paid" data-unchecked="Unpaid"></div>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div *ngIf="role ==='ROLE_OPERATOR' ||  role ==='ROLE_SUBLCO'" class="input_box  mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-6">
                            <span class="me-2">Enter Amount</span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            <input type="text" placeholder="Enter Amount" [(ngModel)]="collectedPayAmount"
                                (input)="onBalaceAmount($event)">
                        </div>
                    </div>
                </div>

                <div *ngIf="role === 'ROLE_OPERATOR' ||  role === 'ROLE_SUBLCO'" class="input_box mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-6">
                            <span for="commentInput" class="me-2">Comment</span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            <input id="commentInput" type="text" placeholder="Enter Comment" [(ngModel)]="comment">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class=" d-flex justify-content-center align-item-center  mb-2">
        <!-- <button *ngIf="confirmation" type="button" class="btn confirm me-2" (click)="onFirstTimeActivationClick()"
            [disabled]="!isPlanTypeSelected() || isDateSelected()"> -->
        <button *ngIf="confirmation" type="button" class="btn confirm me-2 bttn" (click)="onFirstTimeActivationClick()"
            [disabled]="!isPlanTypeSelected()">
            Confirmation
        </button>

        <button *ngIf="!confirmation" type="button" class="btn confirm me-2 bttn"
            (click)="onFirstTimeActivationButtonClick()" [disabled]="isDisabled">
            Confirmation
        </button>
        <button *ngIf="role =='ROLE_OPERATOR' || role == 'ROLE_SUBLCO' " type="button" class="btn  recharge me-2 bttn"
            (click)="onRechargeType('first_time')" [disabled]="!isActive">Activate</button>
        <button *ngIf="role !='ROLE_OPERATOR' && role != 'ROLE_SUBLCO' " type="button" class="btn  recharge me-2 bttn"
            (click)="firsttimeActivationOfCard()" [disabled]="!isActive">Activate</button>

        <button type="button" class="btn btn-danger me-2 bttn" (click)="onNoClick()">Cancel</button>
    </div>
</div>
<div *ngIf="sType=='activation'">
    <div class="Head d-flex justify-content-between align-items-center mb-3">
        <span class="span">ACTIVATION</span>
        <i class="fa fa-close close-icon" (click)="onNoClick()"></i>
    </div>
    <div class="mobileview">
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-5">
                    <span for="Subscriber_name" class="me-2">Subscriber Name</span>
                </div>
                <div class="col-6 col-md-7 value">
                    {{subscribername}}
                </div>
            </div>
        </div>
        <div class="input_box Isactive mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-5">
                    <span class="me-2"> Boxid</span>
                </div>
                <div class="col-6 col-md-7 value">
                    {{boxno}}
                </div>
            </div>
        </div>
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-5">
                    <span class="me-2">LCO Name</span>
                </div>
                <div class="col-6 col-md-7 value">
                    {{operatorname}}
                </div>
            </div>
        </div>
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-5">
                    <span for="password" class="me-2">Smartcard</span>
                </div>
                <div class="col-6 col-md-7 value">
                    {{smartcardno}}
                </div>
            </div>
        </div>

        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center  mb-3">
                <div class="  col-6 col-md-5">
                    <label for="">Package Name </label>
                </div>
                <div class=" col-6 col-md-7 ">
                    <select id="package" [(ngModel)]="newpackagename" class="js-states"
                        (ngModelChange)="onSelectionrechargetype($event)">
                        <option value="0" selected disabled>Select Package Name</option>
                        <option *ngFor="let package of packagenameList" [value]="package.packageid">
                            {{ package.packagename }}
                        </option>
                    </select>
                </div>
            </div>
        </div>
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center mb-3">
                <div class="col-6 col-md-5">
                    <label for="">Recharge Type</label>
                </div>
                <div class="col-6 col-md-7 ">
                    <select [(ngModel)]="selectedRechargetype" (ngModelChange)="onSelectionrechargetype($event)">
                        <option value="0" selected disabled>Selected Recharge</option>
                        <option *ngFor="let rt of rechargetype" [value]="rt.id">
                            {{rt.name}}
                        </option>
                    </select>
                </div>
            </div>
            <div *ngIf="isplantype" class="mb-3">
                <div class="d-flex align-items-center justify-content-center">
                    <div class="col-6 col-md-5 ">
                        <label for="">Plan Type</label>
                    </div>
                    <div class="col-6 col-md-7">
                        <select [(ngModel)]="plantype" (ngModelChange)="onSelectionplantype($event)">
                            <option value="0" disabled>Selected Plan</option>
                            <option *ngFor="let plan of plantype$ | async" [value]="plan.value">
                                {{ plan.key }}
                            </option>
                        </select>
                    </div>
                </div>
            </div>
            <div *ngIf="datetype" class="mb-3">
                <div class="d-flex align-items-center justify-content-center">
                    <div class="col-6 col-md-5 ">
                        <label for="">Date</label>
                    </div>
                    <div class="col-6 col-md-7">
                        <input type="date" [(ngModel)]="f_date" (ngModelChange)="onSelectionrechargetype($event)"
                            [min]="tomorrow">
                    </div>
                </div>
            </div>
        </div>

    </div>
    <div *ngIf="confirmation">
        <div style="padding: 1rem;">
            <div class="card mb-2" style="padding: 1rem;">
                <div class="input_box  mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-6">
                            <span class="me-2">Old Expiry date</span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            {{First_list?.oldExpiryDate}}
                        </div>
                    </div>
                </div>
                <div class="input_box  mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-6">
                            <span class="me-2">New Expiry date </span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            {{First_list?.expiryDate}}
                        </div>
                    </div>
                </div>
                <!-- <div class="input_box  mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-6">
                            <span class="me-2">Customer Amount</span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            {{First_list?.customerPayAmount}}
                        </div>
                    </div>
                </div>
                <div class="input_box Isactive mb-3">
                    <div *ngIf="role == 'ROLE_SUBLCO' && Subwallet && sublcoDiscount == 1  || role != 'ROLE_SUBLCO'"
                        class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-6">
                            <span class="me-2"> MSO Amount </span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            {{First_list?.msoAmount}}
                        </div>
                    </div>
                </div> -->

                <div class="input_box  mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-6">
                            <span class="me-2">Customer Amount</span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            {{First_list?.customerPayAmount}}
                        </div>
                    </div>
                </div>
                <div *ngIf="(role =='ROLE_SUBLCO' && sublcoDiscount == 1 && Subwallet) ||  (role !='ROLE_SUBLCO')"
                    class="input_box  mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-6">
                            <span class="me-2">MSO Amount</span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            {{First_list?.msoAmount}}
                        </div>
                    </div>
                </div>
                <div class="  mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="input_box col-6 col-md-6">
                            <span class="me-2">Customer pay </span>
                        </div>

                        <div class="col-6 col-md-6 display justify-content-start align-items-center">
                            <div class="can-toggle">
                                <input id="a" type="checkbox" [(ngModel)]="iscollected" (change)="onBillTypeChange()">
                                <label for="a">
                                    <div class="can-toggle__switch" data-checked="Paid" data-unchecked="Unpaid"></div>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <div *ngIf="role ==='ROLE_OPERATOR' ||  role ==='ROLE_SUBLCO'" class="input_box  mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-6">
                            <span class="me-2">Enter Amount</span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            <input type="text" placeholder="Enter Amount" [(ngModel)]="collectedPayAmount"
                                (input)="onBalaceAmount($event)">
                        </div>
                    </div>
                </div>

                <div *ngIf="role === 'ROLE_OPERATOR' ||  role === 'ROLE_SUBLCO'" class="input_box mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-6">
                            <span for="commentInput" class="me-2">Comment</span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            <input id="commentInput" type="text" placeholder="Enter Comment" [(ngModel)]="comment">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class=" d-flex justify-content-center align-item-center  mb-2">
        <button *ngIf="confirmation" type="button" class="btn confirm me-2 bttn" (click)="onActivationClick()"
            [disabled]="!isPlanTypeSelected()">
            Confirmation
        </button>
        <button *ngIf="!confirmation" type="button" class="btn confirm me-2 bttn" (click)="onActivationButtonClick()"
            [disabled]="isDisabled">
            Confirmation
        </button>
        <button *ngIf="role == 'ROLE_OPERATOR' || role == 'ROLE_SUBLCO'" type="button" class="btn  recharge me-2 bttn"
            [disabled]="!isActive" (click)="onRechargeType('activation')">Activate</button>
        <button *ngIf="role != 'ROLE_OPERATOR' && role != 'ROLE_SUBLCO'" type="button" class="btn  recharge me-2 bttn"
            [disabled]="!isActive" (click)="ActivationOfCard()">Activate</button>

        <button type="button" class="btn btn-danger me-2 bttn" (click)="onNoClick()">Cancel</button>
    </div>
</div>
<div *ngIf="sType=='BASE'">
    <div class="Head d-flex justify-content-between align-items-center mb-3">
        <span class="span">CHANGE BASE</span>
        <i class="fa fa-close close-icon" (click)="onNoClick()"></i>
    </div>
    <div class="mobileview">
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span for="password" class="me-2">Smartcard</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{smartcardno}}
                </div>
            </div>
        </div>
        <div class="input_box Isactive mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span class="me-2"> Boxid</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{boxno}}
                </div>
            </div>
        </div>
        <div class="input_box Isactive mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span class="me-2"> Current Package </span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{currentPackagename}}
                </div>
            </div>
        </div>


        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span class="me-2">No of Days</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{noOfDays}}
                </div>
            </div>
        </div>
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span class="me-2">Expiry Date</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{expirydate}}
                </div>
            </div>
        </div>
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center  mb-3">
                <div class=" col-6 col-md-6">
                    <label for="">Package Name </label>
                </div>
                <div class=" col-6 col-md-6 ">
                    <select id="package" [(ngModel)]="newpackagename" class="js-states"
                        (ngModelChange)="onSelectionrechargetype($event)">
                        <option value="0" selected disabled>Select Package Name</option>
                        <option *ngFor="let package of packagenameList" [value]="package.packageid">
                            {{ package.packagename }}
                        </option>
                    </select>
                </div>
            </div>
        </div>

        <div *ngIf="rechargeToggle" class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center mb-3">
                <div class="col-6 col-md-6">
                    <label for="">Recharge Type</label>
                </div>
                <div class="col-6 col-md-6 ">
                    <select [(ngModel)]="selectedRechargetype" (ngModelChange)="onSelectionrechargetype($event)">
                        <option value="0" selected disabled>Selected Recharge</option>
                        <option *ngFor="let rt of rechargetype" [value]="rt.id">
                            {{rt.name}}
                        </option>
                    </select>
                </div>
            </div>
            <div *ngIf="isplantype" class="mb-3">
                <div class="d-flex align-items-center justify-content-center">
                    <div class="col-6 col-md-6 ">
                        <label for="">Plan Type</label>
                    </div>
                    <div class="col-6 col-md-6">
                        <select [(ngModel)]="plantype" (ngModelChange)="onSelectionplantype($event)">
                            <option value="0" selected disabled>Selected Plan</option>
                            <option *ngFor="let plan of plantype$ | async" [value]="plan.value">
                                {{ plan.key }}
                            </option>
                        </select>
                    </div>
                </div>
            </div>
            <div *ngIf="datetype" class="mb-3">
                <div class="d-flex align-items-center justify-content-center">
                    <div class="col-6 col-md-6 ">
                        <label for="">Date</label>
                    </div>
                    <div class="col-6 col-md-6">
                        <input type="date" [(ngModel)]="f_date" (ngModelChange)="onSelectionrechargetype($event)"
                            [min]="today">
                    </div>
                </div>
            </div>
        </div>

    </div>
    <div *ngIf="confirmation">
        <div style="padding: 1rem;">
            <div class="card mb-2" style="padding: 1rem;">
                <div class="input_box  mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-6">
                            <span for="password" class="me-2">New Expiry date</span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            {{changebase_expiryDate}}
                        </div>
                    </div>
                </div>
                <div class="input_box Isactive mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-6">
                            <span class="me-2"> Refund Amount to LCO</span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            {{changebase_totalRefundToLco}}
                        </div>
                    </div>
                </div>
                <div class="input_box  mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-6">
                            <span class="me-2">Customer Amount</span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            {{customerPayAmount}}
                        </div>
                    </div>
                </div>
                <div *ngIf="(role =='ROLE_SUBLCO' && sublcoDiscount == 1 && Subwallet) ||  (role !='ROLE_SUBLCO')"
                    class="input_box  mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-6">
                            <span class="me-2">MSO Amount</span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            {{changebase_msoAmount}}
                        </div>
                    </div>
                </div>



                <div class="mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="input_box col-6 col-md-6">
                            <span class="me-2">Customer pay </span>
                        </div>
                        <div class="col-6 col-md-6 display justify-content-start align-items-center">
                            <div class="can-toggle">
                                <input id="a" type="checkbox" [(ngModel)]="iscollected" (change)="onBillTypeChange()">
                                <label for="a">
                                    <div class="can-toggle__switch" data-checked="Paid" data-unchecked="Unpaid">
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div *ngIf="role ==='ROLE_OPERATOR' ||  role ==='ROLE_SUBLCO'" class="input_box  mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-6">
                            <span class="me-2">Enter Amount</span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            <input type="text" placeholder="Enter Amount" [(ngModel)]="collectedPayAmount"
                                (input)="onBalaceAmount($event)">
                        </div>
                    </div>
                </div>

                <div *ngIf="role === 'ROLE_OPERATOR' ||  role === 'ROLE_SUBLCO'" class="input_box mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-6">
                            <span for="commentInput" class="me-2">Comment</span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            <input id="commentInput" type="text" placeholder="Enter Comment" [(ngModel)]="comment">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class=" d-flex justify-content-center align-item-center  mb-2">
        <button *ngIf="!confirmation" type="button" class="btn confirm me-2 bttn"
            (click)="onChangeBaseActivationButtonClick()">Confirmation</button>

        <button *ngIf="confirmation" type="button" class="btn confirm me-2 bttn" (click)="onChangeBaseActivationClick()"
            [disabled]="!isActive">Confirmation</button>


        <button type="button" *ngIf="role == 'ROLE_OPERATOR' ||  role == 'ROLE_SUBLCO'" class="btn  recharge me-2 bttn"
            (click)="onRechargeType('base')" [disabled]="!isActive">Activate</button>

        <button *ngIf="role != 'ROLE_OPERATOR' &&  role != 'ROLE_SUBLCO' " type="button" class="btn  recharge me-2 bttn"
            (click)="baseChangeofSmartcardPackageActivate()" [disabled]="!isActive">Activate</button>

        <button type="button" class="btn btn-danger me-2 bttn" (click)="onNoClick()">Cancel</button>
    </div>
</div>


<div *ngIf="sType=='cancelsubscription'">
    <div class="Head d-flex justify-content-between align-items-center mb-3">
        <span class="span">CANCEL SUBSCRIPTION</span>
        <i class="fa fa-close close-icon" (click)="onNoClick()"></i>
    </div>
    <div style="padding: 1rem;">
        <div class="cancel_sub display_mobile mb-2  align-items-center justify-content-center">
            <div class="col-12 col-md-6 display_moile justify-content-start lign-items-center">
                <div class="input_box  mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-5 col-md-3">
                            <span for="password" class="me-2">Smartcard</span>
                        </div>
                        <div class="col-7 col-md-6 value">
                            {{smartcardno}}
                        </div>
                    </div>
                </div>
                <div class="input_box Isactive mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-3">
                            <span class="me-2"> Boxid</span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            {{boxno}}
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12 col-md-6 display_moile justify-content-end lign-items-center">
                <div class="input_box  mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-5 col-md-3">
                            <span class="me-2">Expiry Date</span>
                        </div>
                        <div class="col-7 col-md-6 value">
                            {{expirydate}}
                        </div>
                    </div>
                </div>
                <!-- <div class="input_box  mb-3">
                    <div class="d-flex align-items-center justify-content-center" >
                        <div class="col-5 col-md-3" >
                            <span class="me-2" >Card Balance</span>
                        </div>
                        <div class="col-7 col-md-6 value">
                            {{cardbalance}}
                        </div>
                    </div>
                </div> -->
            </div>
        </div>
    </div>

    <div class="col-12 col-md-12  mb-3" style="padding: 0.5rem;">
        <ag-grid-angular #agGrid id="myGrid" domLayout='autoHeight' class="ag-theme-alpine table-class" rowAnimation
            [columnDefs]="columnDefs" [enableCellTextSelection]="true" [rowData]="rowData1">
        </ag-grid-angular>
    </div>
    <div *ngIf="role == 'ROLE_OPERATOR' || role == 'ROLE_SUBLCO'|| role == 'ROLE_SUBSCRIBER' " class="cancel_sub"
        style="padding: 1rem;">
        <div class="input_box mb-1  d-flex align-items-center justify-content-center">
            <div class="col-12 col-md-6 d-flex align-items-center justify-content-center">
                <div class="col-5 col-md-6 d-flex align-items-center justify-content-center">
                    <span for="password" class="me-2">Remarks </span>
                </div>
                <div class="col-7 col-md-6 value d-flex align-items-center justify-content-center">
                    <select [(ngModel)]="cancelSubRemark">
                        <option value="">Select Comment</option>
                        <option *ngFor="let item of commentList" [value]="item">
                            {{ item }}
                        </option>
                    </select>
                </div>
            </div>
        </div>
    </div>
    <div *ngIf="role != 'ROLE_SUBLCO'" style="padding: 1rem;">
        <div style="background-color: aquamarine;padding: 0.5rem;">
            <h5 style="margin-bottom: 0rem;">TOTAL: <i class="fa-solid fa-indian-rupee-sign rupee mx-2"
                    style="font-size: 20px;color:green"></i>{{TotalLcoAmount}}
                <!-- <span style="color: red;">{{TotalLcoAmount}} </span> -->
            </h5>
        </div>
    </div>

    <div class="d-flex justify-content-center align-item-center mx-3 mb-2">
        <button type="button" class="btn btn-success me-2 bttn" (click)="cancelSmartcard()">Submit</button>
        <button type="button" class="btn btn-danger bttn" (click)="onNoClick()">Cancel</button>
    </div>
</div>


<div *ngIf="sType=='addon'">
    <div class="Head d-flex justify-content-between align-items-center mb-3">
        <span class="span">ADDON ADD</span>
        <i class="fa fa-close close-icon" (click)="onNoClick()"></i>
    </div>
    <div class="mobile" style="max-height: 800px;overflow:scroll">
        <div style="padding: 1rem;">
            <div class="cancel_sub mb-2 display_mobile align-items-center justify-content-center">
                <div class="col-12 col-md-6 display_moile justify-content-start lign-items-center">
                    <div class="input_box  mb-3">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="col-5 col-md-6">
                                <span for="password" class="me-2">Customer Name </span>
                            </div>
                            <div class="col-7 col-md-6 value">
                                {{subscribername}}
                            </div>
                        </div>
                    </div>
                    <div class="input_box Isactive mb-3">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="col-5 col-md-6">
                                <span class="me-2"> Smartcard</span>
                            </div>
                            <div class="col-7 col-md-6 value">
                                {{smartcardno}}
                            </div>
                        </div>
                    </div>

                </div>
                <div class="col-12 col-md-6 display_moile justify-content-end lign-items-center">
                    <div class="input_box  mb-3">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="col-5 col-md-6">
                                <span class="me-2">Box Id</span>
                            </div>
                            <div class="col-7 col-md-6 value">
                                {{boxno}}
                            </div>
                        </div>
                    </div>
                    <div class="input_box  mb-3">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="col-5 col-md-6">
                                <span class="me-2">Lco Name</span>
                            </div>
                            <div class="col-7 col-md-6 value">
                                {{lconame}}
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="col-12 col-md-12  mb-3" style="padding: 1rem;">
            <ag-grid-angular #agGrid id="myGrid" domLayout='normal' class="ag-theme-alpine table-class" rowAnimation
                [gridOptions]="gridOptions1" [columnDefs]="columnDefs" [rowData]="rowData"
                (gridReady)="onGridReady($event)" [enableCellTextSelection]="true"
                (selectionChanged)="onSelectionChanged()" [rowSelection]="rowSelection">
            </ag-grid-angular>
        </div>
        <div class="display_mobile">

            <div class="col-12 col-md-6 d-block justify-content-center align-item-center  mb-3">
                <div *ngIf="addonconfirmation" class="card1 mx-2  mb-2" style="padding: 1rem;">
                    <div class="input_box  mb-1">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="col-5 col-md-6">
                                <span for="password" class="me-2">Expiry date </span>
                            </div>
                            <div class="col-7 col-md-6 value">
                                {{addonConfirmationData.expiryDate}}
                            </div>
                        </div>
                    </div>

                    <!-- <div class="input_box Isactive mb-1">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="col-5 col-md-6">
                                <span class="me-2"> Customer Pay Amount </span>
                            </div>
                            <div class="col-7 col-md-6 value">
                                {{addonConfirmationData.customerPayAmount}}
                            </div>
                        </div>
                    </div>

                    <div *ngIf="(role == 'ROLE_SUBLCO'  && Subwallet) ||  role !='ROLE_SUBLCO' && role != 'ROLE_SUBSCRIBER' "
                        class="input_box  mb-1">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="col-5 col-md-6">
                                <span for="password" class="me-2">Mso Amount for LCO </span>
                            </div>
                            <div class="col-7 col-md-6 value">
                                {{addonConfirmationData.msoAmount}}
                            </div>
                        </div>
                    </div> -->
                    <div class="input_box  mb-3">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="col-6 col-md-6">
                                <span class="me-2">Customer Amount</span>
                            </div>
                            <div class="col-6 col-md-6 value">
                                {{addonConfirmationData.customerPayAmount}}
                            </div>
                        </div>
                    </div>
                    <div *ngIf="(role =='ROLE_SUBLCO' && sublcoDiscount == 1 && Subwallet) ||  (role !='ROLE_SUBLCO')"
                        class="input_box  mb-3">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="col-6 col-md-6">
                                <span class="me-2">MSO Amount</span>
                            </div>
                            <div class="col-6 col-md-6 value">
                                {{addonConfirmationData.msoAmount}}
                            </div>
                        </div>
                    </div>


                    <div class="input_box Isactive mb-1">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="col-5 col-md-6">
                                <span class="me-2"> Day</span>
                            </div>
                            <div class="col-7 col-md-6 value">
                                {{addonConfirmationData.days}}
                            </div>
                        </div>
                    </div>

                    <div class="input_box  mb-1">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="col-5 col-md-6">
                                <span for="password" class="me-2">Selected Addon count</span>
                            </div>
                            <div class="col-7 col-md-6 value">
                                {{rows?.length}}
                            </div>
                        </div>
                    </div>


                    <div class=" Isactive mb-1">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="input_box col-5 col-md-6">
                                <span class="me-2"> Customer pay</span>
                            </div>
                            <div class="col-6 col-md-6 display justify-content-start align-items-center">
                                <div class="can-toggle">
                                    <input id="a" type="checkbox" [(ngModel)]="iscollected"
                                        (change)="onBillTypeChange()">
                                    <label for="a">
                                        <div class="can-toggle__switch" data-checked="Paid" data-unchecked="Unpaid">
                                        </div>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="role ==='ROLE_OPERATOR' ||  role ==='ROLE_SUBLCO'" class="input_box  mb-3">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="col-6 col-md-6">
                                <span class="me-2">Enter Amount</span>
                            </div>
                            <div class="col-6 col-md-6 value">
                                <input type="text" placeholder="Enter Amount" [(ngModel)]="collectedPayAmount"
                                    (input)="onBalaceAmount($event)">
                            </div>
                        </div>
                    </div>

                    <div *ngIf="role === 'ROLE_OPERATOR' ||  role === 'ROLE_SUBLCO'" class="input_box mb-3">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="col-6 col-md-6">
                                <span for="commentInput" class="me-2">Comment</span>
                            </div>
                            <div class="col-6 col-md-6 value">
                                <input id="commentInput" type="text" placeholder="Enter Comment" [(ngModel)]="comment">
                            </div>
                        </div>
                    </div>
                </div>
                <div class=" d-flex  align-item-center mx-3 mb-2 " style="margin-block: auto;">
                    <button *ngIf="!addonconfirmation" type="button" class="btn btn-warning me-2 bttn"
                        style="height: 40px;" [disabled]="!isAnyRowSelected "
                        (click)="onAddonConfirmation()">Confirmation</button>
                    <button *ngIf="addonconfirmation" type="button" class="btn btn-warning me-2 bttn"
                        style="height: 40px;" [disabled]="!isAnyRowSelected" (click)="onAddon()">Confirmation</button>
                    <button *ngIf="role =='ROLE_OPERATOR' || role == 'ROLE_SUBLCO' " type="button"
                        class="btn btn-success me-2 bttn" style="height: 40px;" [disabled]="!isaddaddon"
                        (click)="onRechargeType('add')">ADD</button>
                    <button *ngIf="role !='ROLE_OPERATOR' && role != 'ROLE_SUBLCO' " type="button"
                        class="btn btn-success me-2 bttn" style="height: 40px;" [disabled]="!isaddaddon"
                        (click)="addAddonForSmartcard()">ADD</button>
                    <button type="button" class="btn btn-danger bttn" style="height: 40px;"
                        (click)="getDialogConfirmation()">Cancel</button>
                </div>
            </div>
            <div class="col-12 col-md-6  mb-3" style="padding: 1rem;">
                <ag-grid-angular #agGrid id="myGrid" domLayout='autoHeight' class="ag-theme-alpine table-class"
                    rowAnimation [gridOptions]="gridOptions" [columnDefs]="columnDefs2" [rowData]="finalrow"
                    style="max-height:300px;overflow:scroll" [enableCellTextSelection]="true">
                </ag-grid-angular>
            </div>
        </div>
    </div>
</div>
<div *ngIf="sType=='alacarte'">
    <div class="Head d-flex justify-content-between align-items-center mb-3">
        <span class="span">ALACARTE ADD</span>
        <i class="fa fa-close close-icon" (click)="onNoClick()"></i>
    </div>
    <div class="mobile" style="max-height: 800px;overflow:scroll">

        <div style="padding: 1rem;">
            <div class="cancel_sub mb-2 display_mobile align-items-center justify-content-center">
                <div class="col-12 col-md-6 display_moile justify-content-start lign-items-center">
                    <div class="input_box  mb-3">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="col-5 col-md-6">
                                <span for="password" class="me-2">Customer Name </span>
                            </div>
                            <div class="col-7 col-md-6 value">
                                {{subscribername}}
                            </div>
                        </div>
                    </div>
                    <div class="input_box Isactive mb-3">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="col-5 col-md-6">
                                <span class="me-2"> Smartcard</span>
                            </div>
                            <div class="col-7 col-md-6 value">
                                {{smartcardno}}
                            </div>
                        </div>
                    </div>

                </div>
                <div class="col-12 col-md-6 display_moile justify-content-end lign-items-center">
                    <div class="input_box  mb-3">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="col-5 col-md-6">
                                <span class="me-2">Box Id</span>
                            </div>
                            <div class="col-7 col-md-6 value">
                                {{boxno}}
                            </div>
                        </div>
                    </div>
                    <div class="input_box  mb-3">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="col-5 col-md-6">
                                <span class="me-2">Lco Name</span>
                            </div>
                            <div class="col-7 col-md-6 value">
                                {{lconame}}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12 col-md-12  mb-3" style="padding: 1rem;">
            <ag-grid-angular #agGrid id="myGrid" domLayout='normal' class="ag-theme-alpine table-class" rowAnimation
                [gridOptions]="gridOptions1" [columnDefs]="columnDefs" [rowData]="rowData"
                (gridReady)="onGridReady($event)" [enableCellTextSelection]="true"
                (selectionChanged)="onSelectionChanged()" [rowSelection]="rowSelection">
            </ag-grid-angular>
        </div>

        <div class="display_mobile ">
            <div class="col-12 col-md-6 d-block justify-content-center align-item-center  mb-3">
                <div *ngIf="alacarteconfirmation" class="card1 mx-2  mb-2" style="padding: 1rem;">
                    <div class="input_box  mb-1">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="col-5 col-md-6">
                                <span class="me-2">Expiry date </span>
                            </div>
                            <div class="col-7 col-md-6 value">
                                {{alacarteConfirmationData.expiryDate}}
                            </div>
                        </div>
                    </div>
                    <!-- <div class="input_box Isactive mb-1">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="col-5 col-md-6">
                                <span class="me-2"> Customer Pay Amount </span>
                            </div>
                            <div class="col-7 col-md-6 value">
                                {{alacarteConfirmationData.customerPayAmount}}
                            </div>
                        </div>
                    </div>
                    <div *ngIf="(role == 'ROLE_SUBLCO'  && Subwallet) || role !='ROLE_SUBLCO' && role != 'ROLE_SUBSCRIBER' "
                        class="input_box  mb-1">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="col-5 col-md-6">
                                <span for="password" class="me-2">Mso Amount for LCO </span>
                            </div>
                            <div class="col-7 col-md-6 value">
                                {{alacarteConfirmationData.msoAmount}}
                            </div>
                        </div>
                    </div> -->
                    <div class="input_box  mb-3">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="col-6 col-md-6">
                                <span class="me-2">Customer Amount</span>
                            </div>
                            <div class="col-6 col-md-6 value">
                                {{alacarteConfirmationData.customerPayAmount}}
                            </div>
                        </div>
                    </div>

                    <div *ngIf="(role =='ROLE_SUBLCO' && sublcoDiscount == 1 && Subwallet) ||  (role !='ROLE_SUBLCO')"
                        class="input_box  mb-3">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="col-6 col-md-6">
                                <span class="me-2">MSO Amount</span>
                            </div>
                            <div class="col-6 col-md-6 value">
                                {{alacarteConfirmationData.msoAmount}}
                            </div>
                        </div>
                    </div>



                    <div class="input_box Isactive mb-1">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="col-5 col-md-6">
                                <span class="me-2"> Day</span>
                            </div>
                            <div class="col-7 col-md-6 value">
                                {{alacarteConfirmationData.days}}
                            </div>
                        </div>
                    </div>
                    <div class="input_box  mb-1">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="col-5 col-md-6">
                                <span for="password" class="me-2">Selected Alacarte count</span>
                            </div>
                            <div class="col-7 col-md-6 value">
                                {{rows?.length}}
                            </div>
                        </div>
                    </div>


                    <div class=" Isactive mb-1">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="input_box col-5 col-md-6">
                                <span class="me-2"> Customer pay</span>
                            </div>
                            <div class="col-6 col-md-6 display justify-content-start align-items-center">
                                <div class="can-toggle">
                                    <input id="a" type="checkbox" [(ngModel)]="iscollected"
                                        (change)="onBillTypeChange()">
                                    <label for="a">
                                        <div class="can-toggle__switch" data-checked="Paid" data-unchecked="Unpaid">
                                        </div>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="role ==='ROLE_OPERATOR' ||  role ==='ROLE_SUBLCO'" class="input_box  mb-3">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="col-6 col-md-6">
                                <span class="me-2">Enter Amount</span>
                            </div>
                            <div class="col-6 col-md-6 value">
                                <input type="text" placeholder="Enter Amount" [(ngModel)]="collectedPayAmount"
                                    (input)="onBalaceAmount($event)">
                            </div>
                        </div>
                    </div>

                    <div *ngIf="role === 'ROLE_OPERATOR' ||  role === 'ROLE_SUBLCO'" class="input_box mb-3">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="col-6 col-md-6">
                                <span for="commentInput" class="me-2">Comment</span>
                            </div>
                            <div class="col-6 col-md-6 value">
                                <input id="commentInput" type="text" placeholder="Enter Comment" [(ngModel)]="comment">
                            </div>
                        </div>
                    </div>
                </div>
                <div class=" d-flex  align-item-center mx-3 mb-2 " style="margin-block: auto;">
                    <button *ngIf="!alacarteconfirmation" type="button" class="btn btn-warning me-2 bttn"
                        style="height: 40px;" [disabled]="!isAnyRowSelected"
                        (click)="onAlacarteConfirmation()">Confirmation</button>
                    <button *ngIf="alacarteconfirmation" type="button" class="btn btn-warning me-2 bttn"
                        style="height: 40px;" [disabled]="!isAnyRowSelected"
                        (click)="onAlacarte()">Confirmation</button>

                    <button *ngIf="role =='ROLE_OPERATOR' || role == 'ROLE_SUBLCO'" type="button"
                        class="btn btn-success me-2 bttn" style="height: 40px;" [disabled]="!isaddalacarte"
                        (click)="onRechargeType('alacarteadd')">ADD</button>
                    <button *ngIf="role !='ROLE_OPERATOR' && role != 'ROLE_SUBLCO'" type="button"
                        class="btn btn-success me-2 bttn" style="height: 40px;" [disabled]="!isaddalacarte"
                        (click)="addAlacarteSmartcard()">ADD</button>

                    <button type="button" class="btn btn-danger bttn" style="height: 40px;"
                        (click)="getDialogConfirmation()">Cancel</button>
                </div>
            </div>
            <div class="col-12 col-md-6  mb-1" style="padding: 1rem;">
                <ag-grid-angular #agGrid id="myGrid" domLayout='autoHeight' class="ag-theme-alpine table-class"
                    rowAnimation [columnDefs]="columnDefs1" style="max-height:300px;overflow:scroll"
                    [gridOptions]="gridOptions" [rowData]="finalrow" [enableCellTextSelection]="true">
                </ag-grid-angular>
            </div>
        </div>
    </div>
</div>

<div *ngIf="sType=='remove'">
    <div class="Head d-flex justify-content-between align-items-center mb-3">
        <span class="span">REMOVE PRODUCT</span>
        <i class="fa fa-close close-icon" (click)="onNoClick()"></i>
    </div>
    <div class="mobile">
        <div class="col-12 col-sm-12  mb-3" style="padding: 1rem;">
            <ag-grid-angular #agGrid id="myGrid" domLayout='autoHeight' class="ag-theme-alpine table-class" rowAnimation
                [gridOptions]="gridOptions1" [columnDefs]="columnDefs" [rowData]="rowData"
                (gridReady)="onGridReady($event)" [enableCellTextSelection]="true"
                (selectionChanged)="onSelectionChanged()" [rowSelection]="rowSelection">
            </ag-grid-angular>
        </div>
        <!-- <div class="card1"> -->
        <div class=" d-block justify-content-center align-item-center   mb-3">
            <div *ngIf="removeproduct" class="col-10 col-sm-10 mx-2  mb-2 card1"
                style="padding: 1rem;position: relative;left:10%;">
                <div class="input_box  mb-1">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-5 ">
                            <span for="password" class="me-2">Expiry date </span>
                        </div>
                        <div class="col-5  ">
                            {{lcoreExpirydate}}
                            <!-- {{rowData?.lcoreExpirydate}} -->
                        </div>
                    </div>
                </div>
                <div class="input_box Isactive mb-1">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-5 ">
                            <span class="me-2"> Refund Amount for LCO </span>
                        </div>
                        <div class="col-5 ">
                            {{lcoreFund}}
                            <!-- {{rowData?.lcoRefund}} -->
                        </div>
                    </div>
                </div>
            </div>
            <div class=" d-flex justify-content-center align-item-center mx-3 mb-2 " style="margin-block: auto;">
                <button type="button" class="btn btn-warning me-2 bttn" style="height: 40px;"
                    [disabled]="!isAnyRowSelected" (click)="onRemoveConfirmation()">Confirmation</button>
                <!-- <button *ngIf="removeproduct" type="button" class="btn btn-warning me-2" style="height: 40px;"
                    [disabled]="!isAnyRowSelected || (rows?.length > 1)" (click)="onRemove()">Confirmation</button> -->
                <button type="button" class="btn btn-success me-2 bttn" style="height: 40px;" [disabled]="!isRemove"
                    (click)="removeProductForSmartcard()">Remove</button>
                <button type="button" class="btn btn-danger bttn" style="height: 40px;"
                    (click)="getDialogConfirmation()">Cancel</button>
            </div>
        </div>
        <!-- </div> -->
    </div>
</div>
<div *ngIf="sType=='pair'">
    <div class="Head d-flex justify-content-between align-items-center mb-3">
        <span class="span">pair dialogue</span>
        <i class="fa fa-close close-icon" (click)="onNoClick()"></i>
    </div>
    <div class="mobileview">
        <div class="  mb-3">
            <!-- *ngIf="subSmartcard"  -->
            <div *ngIf="smart" class="d-block align-items-center justify-content-center">
                <div class="input_box  mb-2">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-5 col-md-6">
                            <span for="password" class="me-2">Smartcard </span>
                        </div>
                        <div class="col-7 col-md-6 value">
                            <select [(ngModel)]="pairedSmartcard">
                                <option value="0" selected>Selected Smartcard</option>
                                <option *ngFor="let smartcard of pairSmartcardList" [value]="smartcard">
                                    {{ smartcard }}
                                </option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="input_box Isactive mb-2">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-5 col-md-6">
                            <span class="me-2"> Box ID </span>
                        </div>

                        <div class="col-7 col-md-6 value">
                            {{subBoxid}}
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-12 d-flex justify-content-center align-item-center  mb-3">
                    <div class=" d-flex  align-item-center mx-3 ">
                        <button type="button" class="btn btn-success me-2 bttn"
                            (click)="pairSmartcard()">Submit</button>
                        <button type="button" class="btn btn-danger bttn" (click)="onNoClick()">Cancel</button>
                    </div>
                </div>
            </div>

            <div *ngIf="box" class="d-block align-items-center justify-content-center">
                <div class="input_box  mb-2">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-5 col-md-6">
                            <span for="password" class="me-2">Smartcard </span>
                        </div>
                        <div class="col-7 col-md-6 value">
                            {{subSmartcard}}
                        </div>

                    </div>
                </div>
                <div class="input_box Isactive mb-2">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-5 col-md-6">
                            <span class="me-2"> Box ID </span>
                        </div>
                        <div class="col-7 col-md-6 value">
                            <select [(ngModel)]="pairedBoxid">
                                <option value="0" selected>Selected Box ID</option>
                                <option *ngFor="let boxid of pairBoxList" [value]="boxid">
                                    {{ boxid }}
                                </option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-12 d-flex justify-content-center align-item-center  mb-3">
                    <div class=" d-flex  align-item-center mx-3 ">
                        <button type="button" class="btn btn-success me-2 bttn" (click)="pairBox()">Submit</button>
                        <button type="button" class="btn btn-danger bttn" (click)="onNoClick()">Cancel</button>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
<div *ngIf="sType=='unpair'">
    <div class="Head d-flex justify-content-between align-items-center mb-3">
        <span class="span">Unpair dialog</span>
        <i class="fa fa-close close-icon" (click)="onNoClick()"></i>
    </div>

    <div class="mobileview">
        <div class="mb-3">
            <div class="d-flex align-items-center justify-content-center mb-3">
                <div class="input_box col-6 ">
                    <label for="password" class="me-2">Do you Unpair Smartcard or Box ID?</label>
                </div>
                <div class="col-6 col-md-5 value ">
                    <mat-radio-group class="radio-group d-flex justify-content-center align-items-center"
                        [(ngModel)]="ischeck" aria-labelledby="status">
                        <mat-radio-button class="radio-button" [value]="false">
                            <span style="font-size: 14px;">Smartcard</span>
                        </mat-radio-button>
                        &nbsp;
                        <mat-radio-button class="radio-button" [value]="true">
                            <span style="font-size: 14px;">Box ID</span>
                        </mat-radio-button>
                    </mat-radio-group>
                </div>

            </div>
            <div *ngIf="role === 'ROLE_OPERATOR' ||  role === 'ROLE_SUBLCO'"
                class="d-flex align-items-center justify-content-center">
                <div class="input_box mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-5 ">
                            <span for="commentInput" class="me-2">Comment</span>
                        </div>
                        <div class="col-6 col-md-5 value d-flex justify-content-center align-items-center">
                            <input id="commentInput" type="text" placeholder="Enter Comment" [(ngModel)]="comment">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12 col-md-12 d-flex justify-content-center align-item-center mb-3">
            <div class="d-flex align-item-center mx-3">
                <button type="button" class="btn btn-success me-2 bttn" (click)="handleUnpair()">Submit</button>
                <button type="button" class="btn btn-danger bttn" (click)="onNoClick()">Cancel</button>
            </div>
        </div>
    </div>

</div>
<div *ngIf="sType=='suspend'">
    <div class="Head d-flex justify-content-between align-items-center mb-3">
        <span class="span">SUSPEND</span>
        <i class="fa fa-close close-icon" (click)="onNoClick()"></i>
    </div>
    <div class="mobileview">

        <div class="input_box  mb-3">
            <div class="display align-items-center justify-content-center">
                <div class="col-12 col-md-6">
                    <span for="Subscriber_name" class="me-2">Subscriber Name</span>
                </div>
                <div class="col-12 col-md-6" style="color: rgb(1, 90, 86);">
                    {{subscribername}}
                </div>
            </div>
        </div>
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span class="me-2">Mobile Number</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{mobile}}
                </div>
            </div>
        </div>
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span class="me-2"> Boxid</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{boxno}}
                </div>
            </div>
        </div>
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-6 col-md-6">
                    <span for="password" class="me-2">Smartcard</span>
                </div>
                <div class="col-6 col-md-6 value">
                    {{smartcardno}}
                </div>
            </div>
        </div>
        <div class="  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="input_box  col-6 col-md-6">
                    <span class="me-2">Status</span>
                </div>
                <div class="col-6 col-md-6 value"
                    [ngClass]="{'status-enable': statusdisplay === 'Active', 'status-disable': statusdisplay === 'Deactive'}">
                    <div class="toggle">
                        {{statusdisplay}}
                    </div>
                </div>

            </div>
        </div>
        <div class="input_box  mb-3">
            <div class="d-flex align-items-center justify-content-center">
                <div class="  col-6 col-md-6">
                    <label class="me-2">Suspend Reason</label>
                </div>
                <div class="col-6 col-md-6 value">
                    <textarea type="text" [(ngModel)]="sus_reason" (input)="onBoxIdInputChange()"></textarea>
                    <div *ngIf="errorMessage" class="text-danger mt-2">{{ errorMessage }}</div>
                </div>
            </div>
        </div>
        <div class="col-12 col-md-12 d-flex  justify-content-center align-items-center mb-3">
            <label for="" style="color: red;text-align: center;">Are you sure suspend this smartcard ? </label>
        </div>
    </div>
    <div class=" d-flex justify-content-center align-item-center mx-4 mb-2">
        <button type="button" class="btn btn-success me-2 bttn" (click)="smartcardSuspend()">Yes</button>
        <button type="button" class="btn btn-danger me-2 bttn" (click)="onNoClick()">No</button>
    </div>
</div>
<div *ngIf="rechargeTypeDialog" class="recharge-dialog1">
    <hr>
    <div class="mobileview">
        <div class="mb-3">
            <h4 class="sub-title mt-3">PAYMENT COLLECTION DETAILS</h4>
            <h3 class="highlight" [ngClass]="{
                'green-text': billTypeValue?.description === 'Fully Paid',
                'orange-text': billTypeValue?.description === 'Excess Paid',
                'blue-text': billTypeValue?.description === 'Partially Paid',
                'red-text': billTypeValue?.description === 'Unpaid'
              }">{{billTypeValue?.description}} !!!</h3>
            <div class="p-3">
                <div class="input_box  mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-4">
                            <span class="me-2">Customer Amount </span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            <input type="text" placeholder="Customer Amount" [(ngModel)]="customerPayAmount" readonly>
                        </div>
                    </div>
                </div>
                <div class="input_box  mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-4">
                            <span class="me-2">Collected Amount</span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            <input type="text" placeholder="Collected Amount" [(ngModel)]="collectedPayAmount" readonly>
                        </div>
                    </div>
                </div>
                <div class="input_box  mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-4">
                            <span class="me-2">Balance Amount</span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            <input type="text" placeholder="Balance Amount" [value]="balanceamount | number: '1.2-2'"
                                [ngClass]="{   'red-text': balanceamount < 0,'black-text': balanceamount == 0,'green-text': balanceamount > 0 }"
                                readonly />
                        </div>
                    </div>
                </div>

                <div class="input_box  mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-4">
                            <span class="me-2">Old Balance Amount </span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            <input type="text" placeholder="Old Balance" [value]="oldexcessAmount | number: '1.2-2'"
                                readonly>
                        </div>
                    </div>
                </div>
                <div class="input_box  mb-3">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="col-6 col-md-4">
                            <span class="me-2">New Balance Amount </span>
                        </div>
                        <div class="col-6 col-md-6 value">
                            <input type="text" placeholder="New Balance" [value]="newExcessAmount | number: '1.2-2'"
                                readonly>
                        </div>
                    </div>
                </div>
            </div>
            <p class="confirm1">DO YOU WANT TO UPDATE THIS PACKAGE</p>
            <div class="actions">
                <button *ngIf="dialogType == 'base' " mat-raised-button color="accent" class="mx-3"
                    (click)="baseChangeofSmartcardPackageActivate()">UPDATE</button>
                <button *ngIf="dialogType == 'first_time' " mat-raised-button color="accent" class="mx-3"
                    (click)="firsttimeActivationOfCard()">UPDATE</button>
                <button *ngIf="dialogType == 'activation' " mat-raised-button color="accent" class="mx-3"
                    (click)="ActivationOfCard()">UPDATE</button>
                <button *ngIf="dialogType == 'add' " mat-raised-button color="accent" class="mx-3"
                    (click)="addAddonForSmartcard()">UPDATE</button>
                <button *ngIf="dialogType == 'alacarteadd' " mat-raised-button color="accent" class="mx-3"
                    (click)="addAlacarteSmartcard()">UPDATE</button>
                <button mat-raised-button color="primary" (click)="onRechargeType1()">CANCEL</button>
            </div>
        </div>
    </div>
</div>